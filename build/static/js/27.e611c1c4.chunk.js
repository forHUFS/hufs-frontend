(this["webpackJsonphufs-frontend"]=this["webpackJsonphufs-frontend"]||[]).push([[27],{132:function(t,e,n){"use strict";n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return b})),n.d(e,"i",(function(){return d})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"a",(function(){return m}));var r=n(17),a=n.n(r),u=n(111),s=n(27),c=n.n(s),i=n(112),o=n(3),p=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(i.a,"/post/").concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.I,payload:n.data.data,status:n.status});case 7:return t.abrupt("return",{type:o.J,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(i.a,"/board").concat(e.path));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.u,payload:n.data.data,status:n.status});case 7:return t.abrupt("return",{type:o.v,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(u.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(i.a,"/post/").concat(e,"/report"),n);case 2:if(200!==(r=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.y,status:r.status});case 7:return t.abrupt("return",{type:o.z,status:r.status});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(u.a)(a.a.mark((function t(e,n,r){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(i.a,"/board/").concat(r,"/post"),e);case 2:if(u=t.sent,0===n.length){t.next=6;break}return t.next=6,c.a.post("".concat(i.a,"/post/back"),{url:n});case 6:if(200!==u.status){t.next=10;break}return t.abrupt("return",{type:o.A,status:u.status});case 10:return t.abrupt("return",{type:o.B,status:u.error});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){var t=Object(u.a)(a.a.mark((function t(e,n,r){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.put("".concat(i.a,"/post/").concat(r),e);case 2:if(u=t.sent,0===n.length){t.next=6;break}return t.next=6,c.a.post("".concat(i.a,"/post/back"),{url:n});case 6:if(200!==u.status){t.next=10;break}return t.abrupt("return",{type:o.G,status:u.status});case 10:return t.abrupt("return",{type:o.H,status:u.status});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.delete("".concat(i.a,"/post/").concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.w,status:n.status});case 7:return t.abrupt("return",{type:o.x,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(i.a,"/post/").concat(e,"/addlike"));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.s,status:n.status});case 7:return t.abrupt("return",{type:o.t,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(i.a,"/post/").concat(e,"/dellike"));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.q,status:n.status});case 7:return t.abrupt("return",{type:o.r,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(i.a,"/user/scrap"),null,{params:{postId:e}});case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.C,status:n.status});case 7:return t.abrupt("return",{type:o.D,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(u.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.delete("".concat(i.a,"/user/scrap"),null,{params:{id:e}});case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.E,status:n.status});case 7:return t.abrupt("return",{type:o.F,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},396:function(t,e,n){"use strict";n.r(e);var r=n(17),a=n.n(r),u=n(111),s=n(6),c=n(107),i=n(1),o=n(292),p=n.n(o),l=n(40),f=(n(302),n(132)),b=n(304),d=n(8),h=n(27),x=n.n(h),v=n(112),y=(n(122),n(136),n(146),n(129)),m=n(7),g=[];e.default=Object(d.h)((function(t){var e=Object(l.b)();Object(b.a)((function(t){t.preventDefault(),window.onunload=function(){x.a.delete("".concat(v.a,"/post/back"),g)}}));var n=Object(i.useState)({title:"",content:""}),r=Object(c.a)(n,2),a=r[0],u=r[1],o=function(n){n.preventDefault();var r=Array.from((new DOMParser).parseFromString(a.content,"text/html").querySelectorAll("img")).map((function(t){return t.getAttribute("src")})),u=function(t,e){for(var n=t,r=0;r<e.length;r++)n.splice(n.indexOf(e[r]),1);return n}(g,r),s=t.location.state.detail,c={title:a.title,content:a.content};e(Object(f.g)(c,u,s.substring(1))).then((function(e){200===e.status&&t.history.goBack()})).catch((function(e){var n;switch(null===(n=e.response)||void 0===n?void 0:n.status){case 401:alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),t.history.push("/");case 403:alert("\uc811\uadfc \uad8c\ud55c \uc624\ub958"),t.history.push("/")}}))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"community-main",children:[Object(m.jsx)("input",{className:"title-bar",type:"text",placeholder:"\uc81c\ubaa9",value:a.title,onChange:function(t){u(Object(s.a)(Object(s.a)({},a),{},{title:t.target.value}))}}),Object(m.jsx)(p.a,{placeholder:"\ud558\uc774",theme:"snow",onChange:function(t,e,n,r){u(Object(s.a)(Object(s.a)({},a),{},{content:r.getHTML()}))},modules:k,formats:j}),Object(m.jsxs)("div",{id:"button-bar",children:[Object(m.jsx)(y.a,{type:"primary",onClick:o,style:{margin:"10px"},children:"\uc81c\ucd9c"}),Object(m.jsx)(y.a,{type:"primary",onClick:o,style:{margin:"10px"},children:"\ucde8\uc18c"})]})]})})}));var k={toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["image"]],handlers:{image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",Object(u.a)(a.a.mark((function n(){var r,u,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.files,(u=new FormData).append("file",r[0]),s=t.quill.getSelection(!0),r&&r.length){n.next=7;break}return console.log("No files selected"),n.abrupt("return");case 7:return n.next=9,x.a.post("".concat(v.a,"/post/img"),{img:u}).then((function(n){t.quill.editor.insertEmbed(s.index,"image",n.data),g=g.concat(n.data),t.quill.setSelection(s.index+1,o.Quill.sources.SILENT),e.value=""})).catch((function(e){console.log(e),t.quill.enable(!0)}));case 9:case"end":return n.stop()}}),n)})))),this.container.appendChild(e));e.click()}}}},j=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"]}}]);
//# sourceMappingURL=27.e611c1c4.chunk.js.map