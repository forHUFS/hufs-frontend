(this["webpackJsonphufs-frontend"]=this["webpackJsonphufs-frontend"]||[]).push([[25],{132:function(t,e,a){"use strict";a.d(e,"j",(function(){return l})),a.d(e,"d",(function(){return p})),a.d(e,"f",(function(){return f})),a.d(e,"g",(function(){return d})),a.d(e,"i",(function(){return b})),a.d(e,"e",(function(){return m})),a.d(e,"c",(function(){return v})),a.d(e,"b",(function(){return h})),a.d(e,"h",(function(){return x})),a.d(e,"a",(function(){return j}));var n=a(17),r=a.n(n),c=a(111),s=a(27),u=a.n(s),i=a(112),o=a(3),l=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(i.a,"/post/").concat(e));case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.I,payload:a.data.data,status:a.status});case 7:return t.abrupt("return",{type:o.J,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(i.a,"/board").concat(e.path));case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.u,payload:a.data.data,status:a.status});case 7:return t.abrupt("return",{type:o.v,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(r.a.mark((function t(e,a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat(i.a,"/post/").concat(e,"/report"),a);case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.y,status:n.status});case 7:return t.abrupt("return",{type:o.z,status:n.status});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(r.a.mark((function t(e,a,n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat(i.a,"/board/").concat(n,"/post"),e);case 2:if(c=t.sent,0===a.length){t.next=6;break}return t.next=6,u.a.post("".concat(i.a,"/post/back"),{url:a});case 6:if(200!==c.status){t.next=10;break}return t.abrupt("return",{type:o.A,status:c.status});case 10:return t.abrupt("return",{type:o.B,status:c.error});case 11:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(r.a.mark((function t(e,a,n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.put("".concat(i.a,"/post/").concat(n),e);case 2:if(c=t.sent,0===a.length){t.next=6;break}return t.next=6,u.a.post("".concat(i.a,"/post/back"),{url:a});case 6:if(200!==c.status){t.next=10;break}return t.abrupt("return",{type:o.G,status:c.status});case 10:return t.abrupt("return",{type:o.H,status:c.status});case 11:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.delete("".concat(i.a,"/post/").concat(e));case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.w,status:a.status});case 7:return t.abrupt("return",{type:o.x,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(i.a,"/post/").concat(e,"/addlike"));case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.s,status:a.status});case 7:return t.abrupt("return",{type:o.t,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(i.a,"/post/").concat(e,"/dellike"));case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.q,status:a.status});case 7:return t.abrupt("return",{type:o.r,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat(i.a,"/user/scrap"),null,{params:{postId:e}});case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.C,status:a.status});case 7:return t.abrupt("return",{type:o.D,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(c.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.delete("".concat(i.a,"/user/scrap"),null,{params:{id:e}});case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.abrupt("return",{type:o.E,status:a.status});case 7:return t.abrupt("return",{type:o.F,status:a.status});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},433:function(t,e,a){"use strict";a.r(e);var n=a(6),r=a(17),c=a.n(r),s=a(111),u=a(107),i=a(1),o=a(40),l=a(292),p=a.n(l),f=(a(302),a(304)),d=a(8),b=a(132),m=a(27),v=a.n(m),h=a(112),x=(a(146),a(122),a(136),a(129)),j=a(443),g=a(7),y=[],O=[];e.default=Object(d.h)((function(t){var e=t.match,a=t.history,r=Object(o.b)(),l=Object(i.useState)(!1),d=Object(u.a)(l,2),m=d[0],E=d[1];return Object(f.a)((function(t){t.preventDefault(),window.onunload=function(){v.a.post("".concat(h.a,"/post/back"),{url:O})}})),Object(i.useEffect)(Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(Object(b.j)(+e.params.id)).then((function(t){if(200===t.status){var e=Array.from((new DOMParser).parseFromString(t.payload.content,"text/html").querySelectorAll("img")).map((function(t){return t.getAttribute("src")}));E({title:t.payload.title,content:t.payload.content}),y=y.concat(e)}})).catch((function(t){var e;switch(null===(e=t.response)||void 0===e?void 0:e.status){case 401:alert("\ub85c\uadf8\uc778\ud558\uc9c0 \uc54a\uc740 \uc0ac\uc6a9\uc790"),a.push("/");break;case 403:alert("\uc811\uadfc \uad8c\ud55c \uc624\ub958");break;case 404:alert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uac8c\uc2dc\uae00\uc785\ub2c8\ub2e4")}}));case 1:case"end":return t.stop()}}),t)}))),[]),Object(i.useEffect)((function(){}),[m]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{id:"community-main",children:m?Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:["\uae00 \ubc88\ud638: ",m.id]}),Object(g.jsx)("input",{className:"title-bar",type:"text",placeholder:"\uc81c\ubaa9",value:m.title,onChange:function(t){return E(Object(n.a)(Object(n.a)({},m),{},{title:t.target.value}))}}),Object(g.jsx)(p.a,{className:"1",placeholder:"\ud558\uc774",theme:"snow",value:m.content,onChange:function(t,e,a,r){E(Object(n.a)(Object(n.a)({},m),{},{content:r.getHTML()}))},modules:k,formats:w}),Object(g.jsxs)("div",{id:"button-bar",children:[Object(g.jsx)(x.a,{type:"primary",onClick:function(){var t=Array.from((new DOMParser).parseFromString(m.content,"text/html").querySelectorAll("img")).map((function(t){return t.getAttribute("src")})),n=function(t,e){for(var a=t,n=0;n<e.length;n++)a.splice(a.indexOf(e[n]),1);return console.log("need to delete: ".concat(a)),a}(y,t);r(Object(b.i)(m,n,+e.params.id)).then((function(t){200===t.status&&a.goBack()})).catch((function(t){var e;switch(null===(e=t.response)||void 0===e?void 0:e.status){case 200:break;case 401:alert("\ub85c\uadf8\uc778\ud558\uc9c0 \uc54a\uc740 \uc0ac\uc6a9\uc790"),a.push("/");break;case 403:alert("\uc811\uadfc \uad8c\ud55c \uc624\ub958")}}))},style:{margin:"10px"},children:"\uc218\uc815\ud558\uae30"}),Object(g.jsx)(x.a,{type:"primary",onClick:function(){window.confirm("\uc9c4\uc9dc?")&&v.a.post("".concat(h.a,"/post/back"),{url:O}).then(a.goBack()).catch(a.goBack())},style:{margin:"10px"},children:"\ucde8\uc18c\ud558\uae30"})]})]}):Object(g.jsx)(j.a,{})})})}));var k={toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["image"]],handlers:{image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){var a=e.files,n=t.quill.getSelection(!0);if(a&&a.length){var r=new FormData;r.append("file",a[0]),console.log(r),v.a.post("".concat(h.a,"/post/img"),{img:r}).then((function(a){t.quill.enable(!0),t.quill.editor.insertEmbed(n.index,"image",a.data),y=y.concat(a.data),O=O.concat(a.data),t.quill.setSelection(n.index+1,l.Quill.sources.SILENT),e.value=""})).catch((function(e){alert(e),t.quill.enable(!0)}))}else console.log("No files selected")})),this.container.appendChild(e));e.click()}}}},w=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"]},443:function(t,e,a){"use strict";var n=a(94),r=a(4),c=a(98),s=a(1),u=a(93),i=a.n(u),o=function(t){var e=t.prefixCls,a=t.className,n=t.width,c=t.style;return s.createElement("h3",{className:i()(e,a),style:Object(r.a)({width:n},c)})},l=a(103),p=function(t){var e=function(e){var a=t.width,n=t.rows,r=void 0===n?2:n;return Array.isArray(a)?a[e]:r-1===e?a:void 0},a=t.prefixCls,n=t.className,r=t.style,c=t.rows,u=Object(l.a)(Array(c)).map((function(t,a){return s.createElement("li",{key:a,style:{width:e(a)}})}));return s.createElement("ul",{className:i()(a,n),style:r},u)},f=a(155),d=function(t){var e,a,c=t.prefixCls,u=t.className,o=t.style,l=t.size,p=t.shape,f=i()((e={},Object(n.a)(e,"".concat(c,"-lg"),"large"===l),Object(n.a)(e,"".concat(c,"-sm"),"small"===l),e)),d=i()((a={},Object(n.a)(a,"".concat(c,"-circle"),"circle"===p),Object(n.a)(a,"".concat(c,"-square"),"square"===p),Object(n.a)(a,"".concat(c,"-round"),"round"===p),a)),b="number"===typeof l?{width:l,height:l,lineHeight:"".concat(l,"px")}:{};return s.createElement("span",{className:i()(c,f,d,u),style:Object(r.a)(Object(r.a)({},b),o)})},b=a(110),m=function(t){var e=function(e){var a=e.getPrefixCls,c=t.prefixCls,u=t.className,o=t.active,l=a("skeleton",c),p=Object(b.a)(t,["prefixCls"]),f=i()(l,"".concat(l,"-element"),Object(n.a)({},"".concat(l,"-active"),o),u);return s.createElement("div",{className:f},s.createElement(d,Object(r.a)({prefixCls:"".concat(l,"-avatar")},p)))};return s.createElement(f.a,null,e)};m.defaultProps={size:"default",shape:"circle"};var v=m,h=function(t){var e=function(e){var a=e.getPrefixCls,c=t.prefixCls,u=t.className,o=t.active,l=a("skeleton",c),p=Object(b.a)(t,["prefixCls"]),f=i()(l,"".concat(l,"-element"),Object(n.a)({},"".concat(l,"-active"),o),u);return s.createElement("div",{className:f},s.createElement(d,Object(r.a)({prefixCls:"".concat(l,"-button")},p)))};return s.createElement(f.a,null,e)};h.defaultProps={size:"default"};var x=h,j=function(t){var e=function(e){var a=e.getPrefixCls,c=t.prefixCls,u=t.className,o=t.active,l=a("skeleton",c),p=Object(b.a)(t,["prefixCls"]),f=i()(l,"".concat(l,"-element"),Object(n.a)({},"".concat(l,"-active"),o),u);return s.createElement("div",{className:f},s.createElement(d,Object(r.a)({prefixCls:"".concat(l,"-input")},p)))};return s.createElement(f.a,null,e)};j.defaultProps={size:"default"};var g=j,y=function(t){var e=function(e){var a=e.getPrefixCls,n=t.prefixCls,r=t.className,c=t.style,u=a("skeleton",n),o=i()(u,"".concat(u,"-element"),r);return s.createElement("div",{className:o},s.createElement("div",{className:i()("".concat(u,"-image"),r),style:c},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(u,"-image-svg")},s.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(u,"-image-path")}))))};return s.createElement(f.a,null,e)};function O(t){return t&&"object"===Object(c.a)(t)?t:{}}var k=function(t){var e=function(e){var a=e.getPrefixCls,c=e.direction,u=t.prefixCls,l=t.loading,f=t.className,b=t.children,m=t.avatar,v=t.title,h=t.paragraph,x=t.active,j=t.round,g=a("skeleton",u);if(l||!("loading"in t)){var y,k,w,E=!!m,C=!!v,q=!!h;if(E){var N=Object(r.a)(Object(r.a)({prefixCls:"".concat(g,"-avatar")},function(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(C,q)),O(m));k=s.createElement("div",{className:"".concat(g,"-header")},s.createElement(d,N))}if(C||q){var A,z;if(C){var P=Object(r.a)(Object(r.a)({prefixCls:"".concat(g,"-title")},function(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}(E,q)),O(v));A=s.createElement(o,P)}if(q){var S=Object(r.a)(Object(r.a)({prefixCls:"".concat(g,"-paragraph")},function(t,e){var a={};return t&&e||(a.width="61%"),a.rows=!t&&e?3:2,a}(E,C)),O(h));z=s.createElement(p,S)}w=s.createElement("div",{className:"".concat(g,"-content")},A,z)}var M=i()(g,(y={},Object(n.a)(y,"".concat(g,"-with-avatar"),E),Object(n.a)(y,"".concat(g,"-active"),x),Object(n.a)(y,"".concat(g,"-rtl"),"rtl"===c),Object(n.a)(y,"".concat(g,"-round"),j),y),f);return s.createElement("div",{className:M},k,w)}return b};return s.createElement(f.a,null,e)};k.defaultProps={avatar:!1,title:!0,paragraph:!0},k.Button=x,k.Avatar=v,k.Input=g,k.Image=y;var w=k;e.a=w}}]);
//# sourceMappingURL=25.c1fbf613.chunk.js.map